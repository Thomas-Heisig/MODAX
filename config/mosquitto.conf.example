# MODAX MQTT Broker Configuration
# Place in /etc/mosquitto/conf.d/modax.conf or use with: mosquitto -c mosquitto.conf

# Listener Configuration
listener 1883
protocol mqtt

# Allow anonymous access (disable in production)
allow_anonymous true

# Queue Settings
max_queued_messages 1000
max_inflight_messages 20

# Persistence
persistence true
persistence_location /var/lib/mosquitto/

# Logging
log_dest file /var/log/mosquitto/mosquitto.log
log_type all
log_timestamp true

# Connection Settings
max_connections -1
connection_messages true

# For production, enable authentication:
# allow_anonymous false
# password_file /etc/mosquitto/passwd

# For production, enable TLS:
# listener 8883
# cafile /etc/mosquitto/ca_certificates/ca.crt
# certfile /etc/mosquitto/certs/server.crt
# keyfile /etc/mosquitto/certs/server.key
